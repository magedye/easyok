# ๐ ุณุฌู ุงููุฑุงุฑุงุช ุงููุนูุงุฑูุฉ (ADR - Architecture Decision Record)

ูุฐู ุงููุซููุฉ ุชุณุฌู ุงููุฑุงุฑุงุช ุงููุนูุงุฑูุฉ ุงูุฑุฆูุณูุฉ ุงูุชู ุชู ุงุชุฎุงุฐูุง ุฎูุงู ุชุทููุฑ ูุดุฑูุน EasyData. ุงููุฏู ูู ุณุฌู ADR ูู ุชูุซูู ุงูุฃุณุจุงุจ (Why) ูุฑุงุก ุงูุญููู ุงููุฎุชุงุฑุฉุ ุจุญูุซ ูููู ูููุทูุฑูู ูู ุงููุณุชูุจู ููู ุงูุณูุงู ูุชุฌูุจ ุชูุฑุงุฑ ุงูููุงุดุงุช ุฃู ุงุชุฎุงุฐ ูุฑุงุฑุงุช ูุชุนุงุฑุถุฉ.

## ADRโ0001: ุงุฎุชูุงุฑ ูููู Monolith ููุธูู

**ุงูุญุงูุฉ:** ููุจูู

**ุงูุณูุงู:** ุงููุฑูู ูุงู ููููุฑ ุจูู ุงุณุชุฎุฏุงู Microservices ุฃู Monolith. ุงูุจูุฆุฉ ุงูุญุงููุฉ ุตุบูุฑุฉ ููุง ุชุชุทูุจ ุชูุฒูุน ุงูุฎุฏูุงุช. ุงูุจููุฉ ุชุญุชุงุฌ ุฃู ุชููู ูุงุจูุฉ ููุชุดุบูู ุนูู ุจูุฆุงุช ูุชุนุฏุฏุฉ (Windows/Linux) ูุน ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุชุนููุฏ.

**ุงููุฑุงุฑ:** ุงุฎุชูุงุฑ Monolith ููุธู ูุน ูุตู ุฏุงุฎูู ูุงุถุญ ุฅูู Modules (`core`, `providers`, `services`, `api`, `middleware`, `utils`).

**ุงููุชุงุฆุฌ:**
* โ ุณูููุฉ ุงููุดุฑ ูุงูุชุตุญูุญ.
* โ ุชุฌูุจ ุงูุชุนููุฏ ุงูุฒุงุฆุฏ ูู ุงูุชูุฒูุน.
* โ ุตุนูุจุฉ ูู ุชูุณูุน ููููู ูุงุญุฏ ุจุฏูู ูุดุฑ ุงููู (ูููู ุญููุง ูู ุงููุณุชูุจู ุจููุท Modular Monolith).

**ุงูุจุฏุงุฆู:** Microservicesุ ูู ูุชู ุงุฎุชูุงุฑูุง ุจุณุจุจ ุงูุญุงุฌุฉ ุฅูู ุฅุนุฏุงุฏ ุจููุฉ ุชุญุชูุฉ ุฅุถุงููุฉ ูุฅุฏุงุฑุฉ ุงูุฎุฏูุงุชุ ููู ุบูุฑ ุถุฑูุฑู ูู ุงููุฑุญูุฉ ุงูุญุงููุฉ.

## ADRโ0002: ุงุณุชุฎุฏุงู `oracledb` ุจุฏูุงู ูู `cx_Oracle`

**ุงูุญุงูุฉ:** ููุจูู

**ุงูุณูุงู:** ููุชุจุฉ `cx_Oracle` ูุงูุช ุชุณุชุฎุฏู ูู ุงูุฅุตุฏุงุฑุงุช ุงููุฏููุฉ ููุชูุงุตู ูุน Oracle DB. ุฅุตุฏุงุฑ `oracledb` 2.0.1 ูููุฑ ุฏุนูุงู ุฑุณููุงู ูู Oracle ููุญุฐู ุงูุงุนุชูุงุฏ ุนูู ุฅุนุฏุงุฏุงุช ุงูุนููู ุงููุญููุฉุ ููุง ูุนูู ูู ูุถุน Thin ุฏูู ุงูุญุงุฌุฉ ุฅูู ุชุซุจูุช Instant Client.

**ุงููุฑุงุฑ:** ุงุณุชุฎุฏุงู `oracledb==2.0.1` ูู ูููุฑ Oracle ุจุฏู `cx_Oracle`ุ ูุชุญุฏูุซ ูููุฑ MSSQL ููุณุชุฎุฏู `pyodbc`.

**ุงููุชุงุฆุฌ:**
* โ ุชุญุณูู ูุงุจููุฉ ุงูููู ุนุจุฑ ุงูุฃูุธูุฉ.
* โ ุชูููู ูุชุทูุจุงุช ุงูุชุซุจูุช ุงูุฎุงุฑุฌูุฉ.
* โ ูุฏ ูุชุทูุจ ุชุญุฏูุซ ุจุนุถ ุงูุงุณุชุนูุงูุงุช ูู ุญุงู ูุฌูุฏ ุงุฎุชูุงูุงุช ุทูููุฉ ูู ูุงุฌูุงุช ุงูุจุฑูุฌุฉ.

## ADRโ0003: ุงูุงุนุชูุงุฏ ุนูู Pydantic Settings

**ุงูุญุงูุฉ:** ููุจูู

**ุงูุณูุงู:** ูุงู ูู ุงููููู ุงุณุชุฎุฏุงู ูุชุบูุฑุงุช ุจูุฆุฉ ูุจุงุดุฑุฉ ุฃู ููุชุจุฉ ุฃุฎุฑู ูุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช. ูุญุชุงุฌ ูุชุฃููุฏ SSOT ูุฏุนู ุงูุชุญูู ูู ุงูุฃููุงุน ูุณูููุฉ ุงููุฑุงุกุฉ.

**ุงููุฑุงุฑ:** ุงุณุชุฎุฏุงู `pydantic-settings` ููุฑุงุกุฉ ููู `.env` ูุชูููุฏ ูุงุฆู ุฅุนุฏุงุฏุงุช (Settings) ูุงุญุฏ. ูุชู ุญูู ูุฐุง ุงููุงุฆู ูู ูู ูููุฑ ุฃู ุฎุฏูุฉ ุญุณุจ ุงูุญุงุฌุฉ.

**ุงููุชุงุฆุฌ:**
* โ ุชูููุฑ ููุท ูุงุญุฏ ูููุฑุงุกุฉ ูู ุงูุจูุฆุฉ.
* โ ุงูุชุญูู ูู ุงูุฃููุงุน ูุงูุงูุชุฑุงุถุงุช ุงูุงูุชุฑุงุถูุฉ.
* โ ุฅุถุงูุฉ ุชุจุนูุฉ ุฌุฏูุฏุฉ ุฅูู ุงููุดุฑูุน.

## ADRโ0004: ุงุณุชุฎุฏุงู Lazy Loading ูู ูููุฑู ุงูููุงุนุฏ ุงูุจูุงูุงุช

**ุงูุณูุงู:** ุชุญููู ููุชุจุงุช Oracle ุฃู MSSQL ูุฏ ูุณุชููู ููุชุงู ูุฐุงูุฑุฉ ูู ุญุงู ูู ูุชู ุงุณุชุฎุฏุงู ุชูู ุงููููุฑุงุช ูุนููุงู.

**ุงููุฑุงุฑ:** ุชุฃุฌูู (Lazy) ุงุณุชูุฑุงุฏ ุงูููุชุจุงุช ุงูุซูููุฉ (ูุซู `oracledb`, `pyodbc`) ุฅูู ููุช ุฅูุดุงุก ุงููููุฑุ ูุนุฏู ุงุณุชูุฑุงุฏูุง ูู ููู `factory.py` ููุณู. ูุชู ุฅุฑุฌุงุน ุงููููุฑ ุงูููุงุณุจ ุจูุงุก ุนูู ุงูุฅุนุฏุงุฏุงุช.

**ุงููุชุงุฆุฌ:**
* โ ุชูููู ุงุณุชููุงู ุงูููุงุฑุฏ ุนูุฏ ุชุดุบูู ุงูุชุทุจูู.
* โ ุชุฌูุจ ุฃุฎุทุงุก ุงูุฑุจุท ูู ุจูุฆุงุช ูุง ุชุชููุฑ ูููุง ููุชุจุงุช ูุนููุฉ.

## ADRโ0005: ุชุทุจูู Circuit Breaker ูุญูุงูุฉ ุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ

**ุงูุณูุงู:** ูููู ุฃู ูุชุณุจุจ ูุดู ูุชูุฑุฑ ูู ูุฒูุฏ LLM ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุชุฏููุฑ ุงูุฎุฏูุฉ ุจุงููุงูู (Cascading Failures).

**ุงููุฑุงุฑ:** ุฅูุดุงุก Decorator ุจุณูุท ุจุงุณู `CircuitBreaker` ูู `core/exceptions.py` ููุชุชุจุน ุนุฏุฏ ุญุงูุงุช ุงููุดู. ุนูุฏ ุชุฌุงูุฒ ุญุฏ ูุนููุ ููุชุญ ุงูุฏุงุฆุฑุฉ ููุนูุฏ ุฎุทุฃ `ServiceUnavailableError` ุจุฏูุงู ูู ูุญุงููุฉ ุชูููุฐ ุงูุนูููุฉ.

**ุงููุชุงุฆุฌ:**
* โ ุญูุงูุฉ ุงูุชุทุจูู ูู ุงูุชูุฑุงุฑ ุงููุชุชุงูู ููุฃุฎุทุงุก ุงูุฎุงุฑุฌูุฉ.
* โ ุชุณุฌูู ุฃุณุจุงุจ ุนุฏู ุชููุฑ ุงูุฎุฏูุฉ ุจุฏูุฉ ูู ุณุฌู ุงูุชุฏููู.

## ููููุฉ ุงุณุชุฎุฏุงู ADR

ูููุง ุจุฑุฒุช ูุณุฃูุฉ ูุนูุงุฑูุฉ ุฌุฏูุฏุฉ (ุงุฎุชูุงุฑ ููุชุจุฉุ ุชุตููู API ุฑุฆูุณูุ ุชุนุฏูู ูููู ูุฌูุฏุงุช)ุ ูุฌุจ ุฅูุดุงุก ูุซููุฉ ADR ูููุตูุฉ ุจูุฐุง ุงูููููุ ููุถุนูุง ูู ูุฌูุฏ `adr/` ุฏุงุฎู ุงููุณุชูุฏุน. ูุชู ุชุญุฏูุฏ ุฑูู ุชุณูุณูู ูุฒูู ููุฑุงุฑุ ูุน ุฐูุฑ ุงูุจุฏุงุฆู.