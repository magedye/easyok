# ๐ ูุซููุฉ ูุตูููุฉ ุงูุฃูุงู ูุงูุชุญูู (Security & Permissions Matrix)

ูุฐู ุงููุซููุฉ ุชุญุฏุฏ ูุนุงููุฑ ุงูุฃูุงู ูุงูุตูุงุญูุงุช ูู ูุธุงู EasyDataุ ุจูุง ูู ุฐูู ุฌุฏุงุฑ ุญูุงูุฉ SQLุ ูุณุชููุงุช ุงูุฃุฏูุงุฑุ ูุฏุฉ ุตูุงุญูุฉ ุงูุฑููุฒุ ููุทุงูุงุช ุงููุฑุงุกุฉ ููุท. ุชุนุชุจุฑ ูุฐู ุงููุซููุฉ ูุฑุฌุนุงู ูุชูููุฐ ุงูุทุจูุงุช ุงูุฃูููุฉ ูู ุงูู Middleware.

## 1. ุฌุฏุงุฑ ุญูุงูุฉ SQL (SQL Firewall Rules)

- **ูุณููุญ:**
  - ุงุณุชุนูุงูุงุช `SELECT` ููุท.
  - ุฃูุงูุฑ ูุฑุงุกุฉ ุงููุธุงู (`SHOW`, `DESCRIBE`) ูู ุญุงู ุชู ุงูุณูุงุญ ุจูุง ุตุฑุงุญุฉ.
- **ููููุน:**
  - ุฌููุน ุฃูุงูุฑ `INSERT`, `UPDATE`, `DELETE`, `DROP`, `TRUNCATE`, `ALTER`, `CREATE`.
  - ุงูุงุณุชุนูุงูุงุช ูุชุนุฏุฏุฉ ุงูุฌูู (ูุฌูุฏ `;` ูู ุงููุต).
  - ุงุณุชุนูุงู ูููุงุช ููุชุงุญูุฉ ูุฎุทุงู (`EXEC`, `CALL`, `PROCEDURE`).
- **ุชุทุจูู ุงูุญุฏ ุงูุฃุนูู:** ูู ุญุงู ุนุฏู ูุฌูุฏ ุฌููุฉ `LIMIT` ุฃู `FETCH FIRST` ุฃู `TOP`ุ ูุชู ุฅุถุงูุฉ ุญุฏ ุงูุชุฑุงุถู (`100` ุตู) ุชููุงุฆูุงู ุญุณุจ ููุน ูุงุนุฏุฉ ุงูุจูุงูุงุช.

## 2. ุงูุตูุงุญูุงุช ูุงูุฃุฏูุงุฑ (RBAC)

| ุงูุฏูุฑ | ุงููุตู | ุงูุตูุงุญูุงุช |
|------|------|-----------|
| `admin` | ูุณุคูู ุงููุธุงู ุงููุงูู | `query:execute`, `training:upload`, `training:approve`, `training:delete`, `admin:panel`, `audit:view` |
| `manager` | ูุฏูุฑ ุจูุงูุงุช ุฃู ูุดุฑู | `query:execute`, `training:upload`, `training:approve`, `audit:view` |
| `user` | ูุณุชุฎุฏู ุนุงุฏู | `query:execute`, `training:upload` |
| `guest` | ุฒุงุฆุฑ | `query:execute` ููุท |

## 3. ูุทุงูุงุช ุงููุฑุงุกุฉ ููุท (ReadโOnly Scopes)

ุจุนุถ ุงููุณุชุฎุฏููู ูุญุชุงุฌูู ุฅูู ุงูุงุทูุงุน ุนูู ุจูุงูุงุช ูุญุฏุฏุฉ ููุท ูููุงู ูููููุน ุฃู ุงููุณู. ูุชู ุชูุซูู ุฐูู ูู ุญูู `scopes` ูู ุฑูุฒ JWT ุนูู ููุฆุฉ ูุงุฆูุฉ ูู ุงููุงุฆูุงุช:

```json
"scopes": [
  { "column": "region", "values": ["EMEA", "APAC"] },
  { "column": "department", "values": ["Sales"] }
]
```

ูุชู ุญูู ูุฐู ุงูููู ูู ุงูุงุณุชุนูุงู ุงูููุงุฆู ุนุจุฑ ุทุจูุฉ RLS ูู ุงูุฎุฏูุฉ ูุจู ุงูุชูููุฐ.

## 4. ุตูุงุญูุฉ ุงูุฑููุฒ (JWT Token Expiry)

- ูุชู ุฅูุดุงุก ุฑูุฒ ุฌุฏูุฏ ูู ุณุงุนุฉ (`JWT_EXPIRATION_MINUTES` = 60) ููููู ุถุจุทู ูู ููู `.env`.
- ูุฌุจ ุชุฌุฏูุฏ ุงูุฑูุฒ ุนูุฏ ุงูุชูุงุก ุตูุงุญูุฉ ุงูุฌูุณุฉุ ูููู ุชูููุฐ ุฐูู ูู ุฌุงูุจ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุจุงุณุชุฎุฏุงู Endpoint ูุชุฌุฏูุฏ ุงูุฑูุฒ.

## 5. ูุงุฆูุฉ ุงูุชุญูู ุจุงูุฃูุงู ุงูุนุงูุฉ

1. **ุงูุชูุซูู:** ุฌููุน ุงูููุงุท ุงูููุงุฆูุฉ ุงููุญููุฉ ุชุชุทูุจ ุฑูุฒ JWT ุตุงูุญ.
2. **ุฅูุบุงุก ุงูุตูุงุญูุงุช:** ูุชู ุงูุชุฃูุฏ ูู ุฃู ูู ุฏูุฑ ููุชูู ุงูุตูุงุญูุงุช ุงูููุงุณุจุฉ ูู ุฎูุงู ูุตูููุฉ RBAC ูุจู ุฃู ุนูููุฉ ุญุณุงุณุฉ.
3. **ุชุณุฌูู ุงูุฏุฎูู:** ูุฌุจ ุชุณุฌูู ูุงูุฉ ุงูุงุณุชุนูุงูุงุช ูุญุงูุงุช ุงูุฃุฎุทุงุก ูู ุฌุฏูู `audit_logs`.
4. **ูููุฏ ูุนุฏู ุงูุทูุจุงุช:** ูุชุฌูุจ ุฅุณุงุกุฉ ุงูุงุณุชุฎุฏุงูุ ูุชู ุชุทุจูู ุญุฏ ุฃูุตู ููุทูุจุงุช ูู ุงูุฏูููุฉ ุนุจุฑ Middleware. ูููู ุถุจุทู ูู `.env`ุ ููุง ูููู ุฅููุงูู ุนูุฏ ุงูุญุงุฌุฉ.
5. **ุงูุชุดููุฑ:** ูุชู ุชุดููุฑ ูููุงุช ุงููุฑูุฑ ูููุงุชูุญ ุงูุฑุจุท ููุท ูู ูููุงุช ุงูุจูุฆุฉ ูููุณ ูู ุงูููุฏ.

ุจุงุชุจุงุน ูุฐู ุงููุตูููุฉุ ุชุถูู ุฃู ุงูุฃูุธูุฉ ุงููุฎุชููุฉ ุชุชุนุงูู ูุน ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ุจุทุฑููุฉ ูุญููุฉ ูุขููุฉุ ูุฃู ูู ูุณุชุฎุฏู ูุญุตู ููุท ุนูู ูุง ูู ูุณููุญ ูู.